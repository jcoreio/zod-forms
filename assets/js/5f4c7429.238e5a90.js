"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[671],{5608:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>d,toc:()=>c});var s=t(6070),r=t(5710);const i={},o="useSubmit",d={id:"api/useSubmit",title:"useSubmit",description:"React custom hook for registering a submit handler function to be called with the form values",source:"@site/docs/api/useSubmit.md",sourceDirName:"api",slug:"/api/useSubmit",permalink:"/zod-forms/docs/api/useSubmit",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/api/useSubmit.md",tags:[],version:"current",frontMatter:{},sidebar:"sidebar",previous:{title:"useInitialize",permalink:"/zod-forms/docs/api/useInitialize"}},l={},c=[{value:"Multiple Submit Handlers",id:"multiple-submit-handlers",level:2},{value:"Returning Field Errors",id:"returning-field-errors",level:2},{value:"Options",id:"options",level:2},{value:"Returns <code>React.FormEventHandler</code>",id:"returns-reactformeventhandler",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"usesubmit",children:(0,s.jsx)(n.code,{children:"useSubmit"})}),"\n",(0,s.jsxs)(n.p,{children:["React custom hook for registering a submit handler function to be called with the form values\nwhen a valid form is submitted, and/or getting the ",(0,s.jsx)(n.code,{children:"onSubmit"})," handler to pass to a ",(0,s.jsx)(n.code,{children:"<form>"})," element."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"import { useSubmit } from '@jcoreio/zod-forms'\n"})}),"\n",(0,s.jsx)(n.h2,{id:"multiple-submit-handlers",children:"Multiple Submit Handlers"}),"\n",(0,s.jsxs)(n.p,{children:["Unlike other form libraries, multiple submit handlers can be registered in the same form, and they will be called one by one in registration order. The main purpose of this is to simplify wizard forms with animated transitions between steps, where the ",(0,s.jsx)(n.code,{children:"<form>"})," element and submit button live outside the transitioning elements."]}),"\n",(0,s.jsx)(n.h2,{id:"returning-field-errors",children:"Returning Field Errors"}),"\n",(0,s.jsxs)(n.p,{children:["If your ",(0,s.jsx)(n.code,{children:"onSubmit"})," handler returns/rejects with a ",(0,s.jsx)(n.code,{children:"ZodError"}),", ",(0,s.jsx)(n.a,{href:"/zod-forms/docs/howto/show-submit-errors",children:"its issues will be distributed to your field components"}),",\njust like if your schema throws a ",(0,s.jsx)(n.code,{children:"ZodError"})," when parsing."]}),"\n",(0,s.jsx)(n.h2,{id:"options",children:"Options"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"export function useSubmit<T extends z.ZodTypeAny>(handlers?: {\n  onSubmit?: SubmitHandler<T>\n  onSubmitSucceeded?: SubmitSuccededHandler\n  onSubmitFailed?: SubmitFailedHandler\n}): React.FormEventHandler\n"})}),"\n",(0,s.jsxs)(n.p,{children:["All values types will be ",(0,s.jsx)(n.code,{children:"unknown"})," unless you pass an explicit schema type for ",(0,s.jsx)(n.code,{children:"T"})," or use the ",(0,s.jsxs)(n.a,{href:"/zod-forms/docs/api/createZodForm#returns-zodformt",children:[(0,s.jsx)(n.code,{children:"useSubmit"})," returned by ",(0,s.jsx)(n.code,{children:"createZodForm"})]}),"."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"onSubmit"})," - the function to submit the values to the backend. May be ",(0,s.jsx)(n.code,{children:"async"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"onSubmitSucceeded"})," - a callback to call when submit succeeds"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"onSubmitFailed"})," - a callback to call when submit fails"]}),"\n"]}),"\n",(0,s.jsxs)(n.h2,{id:"returns-reactformeventhandler",children:["Returns ",(0,s.jsx)(n.code,{children:"React.FormEventHandler"})]}),"\n",(0,s.jsxs)(n.p,{children:["The form event handler to pass as the ",(0,s.jsx)(n.code,{children:"onSubmit"})," property to a ",(0,s.jsx)(n.code,{children:"<form>"})," element."]})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},5710:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>d});var s=t(758);const r={},i=s.createContext(r);function o(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);